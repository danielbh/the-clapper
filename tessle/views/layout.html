<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta name='description' content='>
  <meta name='author' content='>

  <title>Sticky Footer Navbar Template for Bootstrap</title>

  <!-- Bootstrap core CSS -->
  <link href='http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css' rel='stylesheet'>

  <!-- Custom styles for this template -->
  <link href='/stylesheets/style.css' rel='stylesheet'>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js'></script>
      <script src='https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js'></script>
    <![endif]-->
</head>

<body>

  <!-- Wrap all page content here -->
  <div id='wrap'>
    <!-- Begin page content -->
    <div class='container'>
      {% block content %}{% endblock %}
    </div>
    <!-- end container -->

  </div>

  <div id='footer'>
    <div class='container'>
      <p class='text-muted'>Tesselethon, Fullstack Academy</p>
    </div>
  </div>


  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src='https://code.jquery.com/jquery-1.10.2.min.js'></script>
  <script src='http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js'></script>
  <script src='/socket.io/socket.io.js'></script>
  <script>
    // Load the socket.io library above, then connect to the server.
    // Because the socket.io server is being run on the same server as your
    // Express instance, you can connect() without any arguments.
    var socket = io.connect()
    socket.on('connect', function () {
      console.log('connected to to server!')
    });
    socket.on('clap_back', function () {
      var audio = new Audio('cat-meow.mp3')
      audio.play()
    });

    setInterval(function(){
      $.ajax({
        type: 'GET',
        url: '/image',
        dataType: 'image/jpg',
        success: function (data) {
          $('#photo').attr('src', 'data:image/jpg;base64,' + data);
          console.log(data);
        }
      })
    }, 5000)

  </script>
</body>

</html>
